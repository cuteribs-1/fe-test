<html>

<head>
	<meta charset="utf-8">
	<title>fe test1</title>
</head>

<body style="background-color: #000000;">
	<script type="text/javascript" src="phaser.min.js"></script>
	<script type="text/javascript">
		window.onload = function () {
			var scale = 3;
			var game = new Phaser.Game(256 * scale, 240 * scale,
				Phaser.AUTO,
				'', {
					preload: preload,
					create: create,
					update: update
				},
				true,
				false
			);

			var mspf = 1000 / 60;
			var map, cursors, player1;

			function preload() {
				game.load.tilemap('mapData01', 'assets/img/map01-tileset.csv', null, Phaser.Tilemap.CSV)
				game.load.image('mapTiles01', 'assets/img/map01-tileset.png');
				game.load.spritesheet('actor', 'assets/img/stands.png', 16, 24);
			}

			function create() {
				game.world.setBounds(0, 0, 368 * scale, 336 * scale);
				cursors = game.input.keyboard.createCursorKeys();

				map = game.add.tilemap('mapData01', 8, 8, 46, 42);
				map.addTilesetImage('map01', 'mapTiles01');

				layer = map.createLayer(0, 256, 240);
				layer.fixedToCamera = true;
				layer.scale.set(scale);
				layer.resizeWorld();

				player1 = game.add.sprite(16 * scale, 8 * scale, 'actor');
				player1.scale.setTo(scale);
				player1.animations.add('1', [9, 10, 11, 10], 4, true);
			}

			function update() {
				var speed = 12
				if (cursors.up.isDown) {
					game.camera.y -= speed;
				} else if (cursors.down.isDown) {
					game.camera.y += speed;
				}

				if (cursors.left.isDown) {
					game.camera.x -= speed;
				} else if (cursors.right.isDown) {
					game.camera.x += speed;
				}

				player1.animations.play('1');
			}
		};
	</script>
</body>

</html>